\section{Fundamentação Teórica}

Em ambientes inteligentes, as informações de contexto sobre os usuários como
localização e identidade são de grande importância proporcionando uma maior
acurácia nas tomadas de decisões. Informações de contexto como essas são de
difícil obtenção devido à dinamicidade do ambiente, no qual usuários entram e
saem a todo momento e interagem com diversos equipamentos.

% -----

Existem inúmeras maneiras de identificar um usuário, seja por meio da face,
íris, voz, entre outras.  Dentre estas, o reconhecimento por meio da face se
destaca pois sua aquisição é realizada de maneira fácil e não intrusiva. O
reconhecimento facial continua sendo um desafio por causa de várias dificuldades
como iluminação, ângulos e poses, expressões, maquiagem e extração da face do
contexto ou do fundo. Basicamente, o processo de reconhecimento facial pode ser
divido em duas tarefas principais, a detecção de faces em imagens e o
reconhecimento das faces encontradas.

A detecção de faces é definida como o processo que determina a existência ou não
de faces em uma imagem. Atualmente, existem diferentes métodos/técnicas de
detecção de faces. Um dos mais utilizados é o
\textit{Viola-Jones}~\cite{edsonma, violajones}. Este método pode ser utilizado
para construir uma abordagem de detecção facial rápida e eficaz utilizando
apenas imagens em tons de cinza distinguindo-se dos outros métodos. Apesar da
simplicidade obtém altas taxas de detecção. 

Na etapa de reconhecimento, as faces detectadas, serão comparadas com um banco
de dados de faces conhecidas. O \textit{Eigenfaces}~\cite{hewitt} trata-se de
uma técnica bastante satisfatória, ela permite ao sistema inferir das imagens
suas principais características e, partindo delas, realizar o reconhecimento das
imagens utilizando um número bastante reduzido de cálculos. Esta técnica aplica
o PCA (\textit{Principal Component Analisys})~\cite{belhumeur} nas imagens do
banco de faces gerando uma lista de
\textit{eigenfaces}. A partir desta lista é calculada uma \textit{eigenface}
média. Cada \textit{eigenface} possui um valor associado (\textit{eigenvalue})
que representa a distancia da \textit{eigenface} media da respectiva
\textit{eigenface}. A técnica é implementado pela biblioteca
OpenCV~\cite{opencv_library} e é amplamente utilizada.

% -----

Para localizar um usuário é muito utilizado as imagens de profundidade. Essas
são imagens cujo valor em cada pixel é uma função da distância do ponto ao
sensor. Estas imagens podem ser adquiridas diretamente utilizando sensores
específicos.

Alguns dos métodos para se obter imagens de profundidade mais conhecidos são o
tempo de voo (TOF - Time of flight)~\cite{jain, fall-detection} e a luz
estruturada~\cite{fall-detection}. A luz estruturada consiste em uma imagem de
profundidade. Uma imagem de profundidade não pode ser obtida utilizando somente
um sensor de vídeo. Porém, adicionando uma textura artificial na cena, uma
imagem de profundidade pode ser recuperada. Esse princípio consiste na projeção
de pontos de luz infravermelhos na cena que são recuperados por uma câmera
infravermelha que lê a textura. Trata-se de um método mais acessível que o TOF,
porém é pouco eficiente para estimar a distância dos pontos nas bordas dos
objetos e em posições muito longe do sensor.

% -----

O rastreamento pode ser definido como o problema de estimar a trajetória de uma
entidade (objeto ou pessoa) em um plano de imagem à medida em que se move na
cena. Em um ambiente inteligente, o rastreamento de pessoas é uma das principais
ferramentas para detectar novos usuários e serve como base para que novas
informações possam ser coletadas~\cite{yilmaz}. Basicamente, o processo de
rastreamento pode ser dividido em duas etapas detecção do objeto e rastreamento
do objeto detectado.

Antes de falar como são feitos a detecção e o rastreamento de entidades, vamos
mostrar como as entidades rastreadas são representadas. As entidades rastreadas
devem ser representadas de alguma maneira. Geralmente, as representações são
baseados em suas formas, existindo uma forte relação entre a representação e o
algoritmo de rastreamento escolhido. Dentre as representações conhecidas se
destacam a por pontos, por formas geométricas primitivas, por silhueta e
contorno, por modelos de formas articuladas e por modelos de esqueletos.
A representação por silhueta e contorno é mais indicada para rastrear entidades
complexas de forma não rígida. Ela é popular devido à sua simplicidade e é mais
utilizada no rastreamento de pessoas.

Todo método de rastreamento requer um mecanismo de detecção de entidades que
pode ser realizada a cada \textit{frame} (quadro) obtido ou na primeira vez que
a entidade a ser rastreada entra no campo de visão. Dentre os métodos de
rastreamento se destacam o detector de pontos, a subtração de fundo e
a segmentação. A subtração de fundo é um método popular para segmentação de
movimento, especialmente nas situações em que o plano de fundo é relativamente
estático. Ele detecta as regiões de movimento na imagem obtendo a diferença
pixel a pixel entre o quadro corrente e o quadro referente ao plano de fundo.

Os métodos de rastreamento de entidades mais utilizados atualmente são o
rastreamento de pontos, o rastreamento de núcleo e o rastreamento de silhuetas.
O rastreamento de silhuetas é feito estimando a região da entidade a cada
quadro a partir das silhuetas geradas nos quadros anteriores. Dado os modelos
de entidades, silhuetas são rastreadas por qualquer forma de correspondência ou
evolução de contorno.